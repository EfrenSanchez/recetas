(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,n){e.exports=n(41)},25:function(e,t,n){},39:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"register",function(){return R}),n.d(a,"unregister",function(){return A});var r=n(0),i=n.n(r),c=n(17),o=n.n(c),s=(n(25),n(4)),l=n(5),u=n(7),m=n(6),f=n(8),p=n(43),d=n(42),h=n(44),v=n(3),g=n.n(v),b=n(10),w=n(12),E=(n(37),"https://www.themealdb.com/api/json/v1/1"),O={getLatest:function(){return j.apply(this,arguments)},getRecipe:function(e){return k.apply(this,arguments)}};function j(){return(j=Object(b.a)(g.a.mark(function e(){var t,n,a;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(E,"/latest.php"));case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,a=n.meals.map(function(e){return y(e)}),e.abrupt("return",a);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function k(){return(k=Object(b.a)(g.a.mark(function e(t){var n,a,r;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(E,"/lookup.php?i=").concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:if((a=e.sent).meals){e.next=8;break}return e.abrupt("return",null);case 8:return r=y(a.meals.shift()),e.abrupt("return",r);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function y(e){var t={};t.id=e.idMeal,t.name=e.strMeal,t.category=e.strCategory,t.origin=e.strArea,t.instructions=e.strInstructions.split("\n").filter(function(e){return""!==e.trim()}),t.thumbnail=e.strMealThumb,t.tags=e.strTags?e.strTags.split(","):[],t.youtube=e.strYoutube,t.ingredients=[],t.url=e.strSource,t.dateModified=e.dateModified;for(var n=1;n<=20;n++)""!==e["strIngredient".concat(n)]&&""!==e["strMeasure".concat(n)]&&t.ingredients.push({ingredient:e["strIngredient".concat(n)],measure:e["strMeasure".concat(n)]});return t}var N=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={recipes:null,isLoading:!0},n}return Object(f.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(b.a)(g.a.mark(function e(){var t;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.getLatest();case 3:t=e.sent,e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0),t=null;case 10:this.setState({recipes:t,isLoading:!1});case 11:case"end":return e.stop()}},e,this,[[0,6]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.recipes;return e.isLoading?i.a.createElement("div",{className:"message"},"Cargando..."):i.a.createElement("div",null,i.a.createElement(w.Helmet,null,i.a.createElement("title",null,"Recetas")),i.a.createElement("div",{className:"recipes"},t&&t.map(function(e){return i.a.createElement(d.a,{to:"/recipe/".concat(e.id),className:"recipe",key:e.id},i.a.createElement("span",{className:"bg",style:{backgroundImage:"url(".concat(e.thumbnail,")")}}),i.a.createElement("span",{className:"info"},i.a.createElement("h2",null,e.name)))})))}}]),t}(i.a.Component),L=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.ingredients;return i.a.createElement("div",{className:"ingredients"},i.a.createElement("h2",null,"Ingredients"),i.a.createElement("ul",null,e.map(function(e,t){return i.a.createElement("li",{key:t},e.ingredient,": ",e.measure)})))}}]),t}(i.a.Component),x=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.instructions;return i.a.createElement("div",{className:"instructions"},i.a.createElement("h2",null,"Instructions"),i.a.createElement("div",{className:"steps"},e.map(function(e,t){return i.a.createElement("div",{className:"step",key:t},i.a.createElement("div",{className:"number"},t+1),i.a.createElement("div",{className:"text"},e))})))}}]),t}(i.a.Component),C=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={recipe:null,isLoading:!0},n}return Object(f.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(b.a)(g.a.mark(function e(){var t;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,e.prev=1,e.next=4,O.getRecipe(this.props.match.params.recipeId);case 4:t=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),t=null;case 10:this.setState({recipe:t,isLoading:!1});case 11:case"end":return e.stop()}},e,this,[[1,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.recipe;return e.isLoading?i.a.createElement("div",{className:"message"},"Loading..."):null===t?i.a.createElement("div",{className:"message"},"Something was wrong :("):i.a.createElement("div",{className:"Recipe"},i.a.createElement(w.Helmet,null,i.a.createElement("title",null,t.name)),i.a.createElement("div",{className:"hero",style:{backgroundImage:"url(".concat(t.thumbnail,")")}}),i.a.createElement("div",{className:"title"},i.a.createElement("div",{className:"info"},i.a.createElement("h1",null,t.name),i.a.createElement("p",null,t.origin)),i.a.createElement("div",null)),i.a.createElement(L,{ingredients:t.ingredients}),i.a.createElement(x,{instructions:t.instructions}))}}]),t}(i.a.Component),S=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).start=Object(b.a)(g.a.mark(function e(){var t,a;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("Notification"in window&&"serviceWorker"in navigator){e.next=2;break}return e.abrupt("return",alert("Your browaser does not suport notifications"));case 2:if("default"!==Notification.permission){e.next=5;break}return e.next=5,Notification.requestPermission();case 5:t=n.state.timer,n.setState({timeLeft:t}),a=setInterval(function(){t-=1,n.setState({timeLeft:t}),t<=0&&(clearInterval(a),n.showNotification())},1e3);case 8:case"end":return e.stop()}},e)})),n.showNotification=Object(b.a)(g.a.mark(function e(){var t;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.serviceWorker.getRegistration();case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",alert("No Service Worker :("));case 5:t.showNotification("Timer ready!",{body:"Ding ding ding",img:"/icon.png"});case 6:case"end":return e.stop()}},e)})),n.handleChange=function(e){n.setState({timer:e.target.value})},n.state={timer:3,timeLeft:0},n}return Object(f.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.timer,n=e.timeLeft;return i.a.createElement("div",{className:"Timer"},i.a.createElement("div",{className:"name"},"Timer"),0===n?i.a.createElement("div",{className:"center"},i.a.createElement("input",{type:"number",min:"0",max:"999",step:"1",value:t,onChange:this.handleChange}),i.a.createElement("button",{onClick:this.start},"Start")):i.a.createElement("div",{className:"timeLeft"},n,"s"))}}]),t}(i.a.Component),W=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).goOnline=function(){return n.setState({onLine:!0})},n.goOffline=function(){return n.setState({onLine:!1})},n.state={onLine:!navigator||navigator.onLine},n}return Object(f.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){window&&(window.addEventListener("online",this.goOnline),window.addEventListener("offline",this.goOffline))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("online",this.goOnline),window.removeEventListener("offline",this.goOffline)}},{key:"render",value:function(){var e=this.props.children;return this.state.onLine?null:i.a.createElement("span",null,e)}}]),t}(i.a.Component),I=(n(39),function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement(p.a,null,i.a.createElement("div",null,i.a.createElement("header",null,i.a.createElement(d.a,{to:"/"},"Recetas ",i.a.createElement(W,null,"Offline")),i.a.createElement(d.a,{to:"/timer",className:"timerLink"},"\u23f1")),i.a.createElement("main",null,i.a.createElement(h.a,{exact:!0,path:"/",component:N}),i.a.createElement(h.a,{path:"/recipe/:recipeId",component:C}),i.a.createElement(h.a,{path:"/timer",component:S}))))}}]),t}(i.a.Component)),M=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function R(e){if("serviceWorker"in navigator){if(new URL("/recetas",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/recetas","/service-worker.js");M?(!function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):T(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):T(t,e)})}}function T(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}function A(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}o.a.render(i.a.createElement(I,null),document.getElementById("root")),a()}},[[20,1,2]]]);
//# sourceMappingURL=main.aa31bca6.chunk.js.map